<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>吃粒吐粒 - 联网对战</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body>

<div class="game-layout">
    <div class="top-nav">
        <button class="back-btn" onclick="window.location.href='index.html'">返回主页</button>
        <button class="new-game-btn" id="online-new-game-btn">重新开始</button>
        <div class="page-title" id="room-title">联网对战</div>
    </div>
    <div class="board-container">
        <div class="board-anchor">
            <svg width="100%" height="100%" viewBox="-50 -50 500 500">
                <g stroke="#3A281E" stroke-width="2">
                    <line x1="0" y1="0" x2="0" y2="400"/><line x1="100" y1="0" x2="100" y2="400"/><line x1="200" y1="0" x2="200" y2="400"/><line x1="300" y1="0" x2="300" y2="400"/><line x1="400" y1="0" x2="400" y2="400"/>
                    <line x1="0" y1="0" x2="400" y2="0"/><line x1="0" y1="100" x2="400" y2="100"/><line x1="0" y1="200" x2="400" y2="200"/><line x1="0" y1="300" x2="400" y2="300"/><line x1="0" y1="400" x2="400" y2="400"/>
                    <line x1="0" y1="0" x2="400" y2="400"/><line x1="0" y1="400" x2="400" y2="0"/>
                    <line x1="0" y1="200" x2="200" y2="0"/><line x1="0" y1="200" x2="200" y2="400"/>
                    <line x1="400" y1="200" x2="200" y2="0"/><line x1="400" y1="200" x2="200" y2="400"/>
                </g>
                <g id="grid-points"></g>
                <g id="pieces"></g>
                <g id="turn-indicators">
                    <circle class="turn-indicator" id="turn-indicator-top"></circle>
                    <circle class="turn-indicator" id="turn-indicator-bottom"></circle>
                </g>
                <text class="win-box" x="200" y="200" visibility="hidden" id="win-box">
                    <tspan class="win-box-text"></tspan>
                </text>
                 <text class="message-box" x="200" y="200" visibility="hidden" id="message-box">
                    <tspan class="message-box-text"></tspan>
                </text>
            </svg>
        </div>
        
        <div class="init-panel" id="online-init-panel">
            <button class="init-button" id="create-room-btn">创建房间</button>
            <hr style="width: 80%; border-top: 1px solid #d4a373;">
            <input type="text" id="room-code-input" placeholder="输入房间号" maxlength="4">
            <button class="init-button" id="join-room-btn">加入房间</button>
        </div>
        <div class="rematch-prompt" id="rematch-prompt" style="display: none;">
            <div class="rematch-prompt-text">对方请求重新开始</div>
            <div class="rematch-buttons">
                <button class="rematch-button" id="rematch-accept-btn">同意</button>
                <button class="rematch-button" id="rematch-reject-btn">拒绝</button>
            </div>
        </div>
        <div class="end-turn-box">结束吃子</div>

    </div> <!-- .board-container 的结束标签 -->

    <!-- 聊天框放在所有主要容器的外部 -->
    <div class="chat-box" id="chat-box" style="visibility: hidden;">
        <input type="text" id="chat-input" placeholder="输入消息...">
        <button id="chat-send-btn">发送</button>
    </div>

</div> <!-- .game-layout 的结束标签 -->

<script src="/socket.io/socket.io.js"></script>
<script src="script/online_game.js"></script>
</body>
</html>